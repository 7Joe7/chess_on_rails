<h1><%= "#{match.name}" %></h1>

<span id="move_indicator_parent">
<%= render :partial => "move_indicator" %> 
</span>

<div id="board_parent" style="float:left; clear:left">
<%= render :partial => "board", :locals => {:board => match.board} %>
</div>

<div id="peripheral_to_board" style="margin: 0 0 0 20px; padding: 8px">  

	<div id="playback_controls">
		<input type="button" value="|&lt;" data-bind="click:display_first_move"/>
		<input type="button" value="&lt;&lt;" data-bind="enable:can_play_previous, click:decrement_displayed_move"/>
		<span data-bind="text:display_board" style="color:white"></span>
		<input type="button" value="&gt;&gt;" data-bind="enable:can_play_next, click:increment_displayed_move"/>
		<input type="button" value="&gt;|" data-bind="click:display_last_move"/>
	</div>
  <div id="move_list" class="move_list">
    <%= render :partial => 'move_list' %>
  </div>

	<script type="text/html" id="chatTemplate">
		hey
	</script>
  
  <% if match.side_of(current_player) %>
  <div id="chat_container" style="float:left;">
   <div id="chat_window" style="overflow:auto; border:solid 1px black; height: 300px; width: 180px;">
      <%= render :partial => 'chats/show' %>
    </div>

		
    <div id="chat_form" style="float:left;">
			<form action="<%= match_chat_path(match) %>" method="POST" onsubmit="game_view_model.submit_chat(); return false;">
      <input type="text" name="chat[text]" id="chat_msg" data-bind="value: chat_msg, valueUpdate: 'keyup'"/>
			<input type="submit" value="Send" >
			</form>
    </div>
  </div>
  <% end %>

</div>

<% if match.side_of(current_player) %>
<div id="move_creator_parent" style="clear:both;">
  <%= render :partial => "move/create" %>
  <%= render :partial => "match/actions" %>
<!--  Your Move Queue:
  <div id="this_move_queue">
    <%=  match.gameplays.send(match.side_of(current_player)).move_queue if match.side_of(current_player) %>
  </div>
--> 
</div>
<% end %>

<script src="<%= url_for(:action => :viewmodel, :format => :js) %>"></script>
